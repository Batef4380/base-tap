<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="fc:frame" content="vNext">
    <meta name="base:app_id" content="6982668ff89bb97e8302c447" />
    <title>BaseTap</title>
    <meta name="description" content="Tap to earn onchain points on Base. Climb the leaderboard!">
    <meta property="og:title" content="BaseTap">
    <meta property="og:description" content="Tap to earn onchain points on Base. Climb the leaderboard!">
    <meta property="og:image" content="preview.png">
    <meta name="theme-color" content="#1e3a5f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app">
        <div class="header">
            <h1> BASETAP </h1>
            <p class="subtitle" role="doc-subtitle">Tap to earn. Claim once. Climb the ranks.</p>
        </div>

        <div class="stats-box">
            <div class="stat">
                <span class="stat-label">Onchain Points</span>
                <span class="stat-value" id="totalPoints">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">Rank</span>
                <span class="stat-value" id="userRank">#-</span>
            </div>
        </div>

        <div class="game-area">
            <div class="tap-counter">
                <span class="tap-label">Pending (1 tx to claim)</span>
                <span class="tap-value" id="tapCount">0</span>
            </div>

            <button class="btn btn-tap" id="btnTap">üëÜ TAP!</button>
            <button class="btn btn-claim" id="btnClaim" style="display:none;">üöÄ CLAIM <span id="claimCount">0</span>
                POINTS</button>

            <div class="loading" id="loadingState" style="display:none;">
                <div class="spinner"></div>
                <p>Claiming...</p>
                <p class="loading-sub">Approve in your wallet</p>
            </div>

            <div class="success" id="successState" style="display:none;">
                <span class="success-icon">‚úÖ</span>
                <p class="success-text">Claimed!</p>
                <p class="success-sub" id="successCount">0 points added</p>
                <button class="btn btn-again" id="btnAgain">Tap More</button>
            </div>
        </div>

        <div class="leaderboard">
            <h2>üèÜ LEADERBOARD</h2>
            <div class="leaderboard-list" id="leaderboardList">
                <div class="leaderboard-empty">Connect wallet to see</div>
            </div>
        </div>

        <div class="connection-status" id="connectionStatus">
            <span class="status-dot"></span>
            <span id="statusText">Connecting...</span>
        </div>
    </div>

    <script type="module" src="game.js"></script>
    <noscript><p style="color:white;text-align:center;padding:20px;">JavaScript is required to play BaseTap.</p></noscript>
</body>

</html>